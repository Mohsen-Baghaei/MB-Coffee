import{h as j,c as p,j as e,i as g,k as y,u as d,l as b,t as w,m as N,n as I,d as v,o as P,p as C}from"./index-Bp_plc6F.js";import{F,a as B,b as T}from"./index-CowYu-Sc.js";import{L as k,y as u}from"./index-BwD82D-v.js";const S="/MB-Coffee/assets/empty-K5KeJmhW.png",z=({item:x})=>{const r=p(),{id:i,name:n,img:c,weight:a,price:s,qty:t}=x,o=m=>{r(m===0?g({id:i}):y({id:i,qty:m}))},f=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t*s);return e.jsxs("article",{className:"flex w-full my-5 justify-between items-center border-b-2 border-solid border-gray-300 pb-5",children:[e.jsxs("div",{className:"flex items-start justify-start w-4/5 md:w-11/12",children:[e.jsx("img",{src:c,alt:n,className:"size-32 md:size-48"}),e.jsxs("div",{className:"flex flex-col justify-between w-4/5 mx-5",children:[e.jsx("p",{className:"text-2xl md:text-4xl font-semibold mt-5",children:n}),e.jsxs("p",{className:"text-xl md:text-2xl font-semibold mt-2 md:mt-4 flex flex-col md:flex-row justify-between items-start",children:[e.jsxs("span",{className:"flex justify-center items-center gap-2",children:[e.jsx("span",{children:t}),e.jsx("span",{children:"Pieces"})]}),e.jsxs("span",{className:"flex justify-center items-center gap-2",children:[e.jsx("span",{className:"hidden md:flex",children:"Item Price:"}),e.jsx("span",{children:f})]})]}),e.jsxs("p",{className:"text-lg font-semibold mt-2 md:mt-4",children:["Weight: ",a," g"]})]})]}),e.jsxs("div",{className:"w-1/5 md:w-1/12 flex flex-col justify-between items-center rounded-xl border-2 border-solid border-gray-400 text-red-500 mt-5",children:[e.jsx("button",{className:"w-full flex justify-center items-center text-3xl font-cursive font-bold p-5 ",onClick:()=>o(t+1),children:e.jsx(F,{})}),e.jsx("button",{className:"w-full flex justify-center items-center text-3xl font-cursive p-5 font-bold border-t border-solid border-gray-300",onClick:()=>o(t-1),children:t===1?e.jsx(B,{}):e.jsx(T,{})})]})]})},L=j.memo(z),U=()=>{const x=d(b),r=d(w),i=d(N),n=p(),c=I(),a=[...x].sort((l,h)=>h.id-l.id),s=d(v),t=l=>u.error(l),o=l=>u.success(l),f=a.length?a.map(l=>e.jsx(L,{item:l},l.id)):e.jsxs("div",{"data-aos":"zoom-in",className:"flex flex-col w-full justify-center items-center gap-6 my-7",children:[e.jsx("p",{className:"text-2xl font-semibold",children:"The Bag is Empty"}),e.jsx("img",{src:S,alt:"empty",className:"size-48"})]}),m=()=>{s?!(s!=null&&s.userInfo)||!(s!=null&&s.userAddress.length)?(t("Please Fill Shipping Address and Information"),setTimeout(()=>{c("/profile")},3e3)):(o("Purchase Completed"),n(P({id:s.id,orders:a,totalItems:r,totalPrices:i})),setTimeout(()=>{n(C()),c("/")},3e3)):(t("You Need to Login First"),setTimeout(()=>{c("/login")},3e3))};return e.jsxs("section",{className:"flex flex-col justify-center items-center w-full p-1 md:p-5",children:[f,e.jsx(k,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),e.jsxs("div",{className:`${a.length?"flex":"hidden"} w-full  flex-col sm:flex-row justify-around items-center text-xl md:text-2xl gap-5 font-semibold`,children:[e.jsxs("p",{className:"w-full sm:w-1/3 flex items-center justify-start gap-2 pl-5",children:[e.jsx("span",{className:"font-serif",children:"Items in Bag :"}),e.jsx("span",{children:r})]}),e.jsxs("p",{className:"w-full sm:w-1/3 flex items-center justify-start gap-2 pl-5",children:[e.jsx("span",{className:"font-serif",children:"Total Price :"}),e.jsx("span",{children:i})]}),e.jsx("button",{onClick:m,className:"w-full sm:w-1/3 p-4 rounded-2xl text-slate-50 bg-primary/70 hover:bg-primary ",children:"Purchase"})]})]})};export{U as default};
